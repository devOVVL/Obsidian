http://www.elmed-rostov.ru/bugtracker/edit_bug.aspx?id=46951

#sltarifk #upload_file 

>	Ошибка копирования файла при загрузке тарифов

При запуске загрузке тарифов появлялась ошибка "Файл не загружен" на желтом фоне. Иногда эту ошибку сопровождала так же желтая плашка "Внутренняя ошибка".
Выяснили, что ошибки связаны с тем, что файл не смог скопироваться из внешней папки во внутреннюю.   
Хотелось бы видеть в логах в более ясном виде  
- какой файл пытаемся загрузить - название и дату изменения  
- из какой директории его берем  
- куда его размещаем.   
Ну и по возможности, более понятно описать, что именно произошло. 

В настоящий момент загрузка работает - связность настроили с Ярославом Шаройко

---

В уведомление "Файл не загружен", при ошибке загрузки добавлена **кликабельная** ссылка на справочник "Системная информация"

при загрузке любого файла будет появляться ошибка, это связано с тем, что Ярославом Шаройко на сервере (компьютер POSTGRE) на папку **/home/raid/upgrade/upload_tfoms/import_sprav/** выданы права вида (d r-- --- ---) только на чтение администратором сервера

для проверки работоспособности загрузки необходимо попросить вернуть старые права доступа

---

Перед загрузкой нужного файла через процедуру em_file_loading будет выполняться загрузка файла с таким же именем, но нулевым бинарным кодом, таким образом при успешном создании пустого проверочного файла, оригинальный файл перезапишет проверочный и не будет лишнего мусора

---

Добавлено удаление файла после его обработки в функции em_load_sltarifk_xml, если файл не удалось создать, то удалять нечего
